{% extends 'base.html' %}


{% block head %}
{% endblock %}

{% block body %}
<!--insert event information here in a table format-->

{% for event in events %}
<h2>{{ event.title }}</h2>

<p>Total Budget: ${{ event.budget }}     | Total Cost: ${{ total_expense }}     | Funds Remaining: ${{ event.budget - total_expense }}</p>

<table>
    <tr>
      <th>EVENT ID</th>
      <th>{{ event.event_id }}</th>
    </tr>
    <tr>
        <th>EVENT DESCRIPTION</th>
        <th>{{ event.description }}</th>
    </tr>
    <tr>
        <th>LOCATION</th>
        <th>{{ event.location }}</th>
    </tr>
    <tr>
        <th>TIME</th>
        <th><p>Start: {{ event.datetime_start.strftime("%a, %b, %12, %Y – %-I:%M:%S %p") }}</p>
            <p>End: {{ event.datetime_end.strftime("%a, %b, %12, %Y – %-I:%M:%S %p") }}</p></th>
    </tr>
    <tr>
        <th>BUDGET</th>
        <th>{{ event.budget }}</th>
    </tr>
    <tr>
        <th>LIASON NAME</th>
        <th> {{ event.liason_name }}</th>
    </tr>
    <tr>
        <th>LIASON EMAIL</th>
        <th> {{ event.liason_email }}</th>
    </tr>
    <tr>
        <th>APPROVED STATUS</th>
        <th>{{ event.approved }}</th>
    </tr>
    
</table>

<h2>{{ event.title }} Expenses</h2>
<table>
  <tr>
		<th>ITEM_ID</th>
		<th>EVENT_ID</th>
		<th>ITEM_NAME</th>
		<th>COST</th>
  </tr>

  {% for row in expenses %}
  <tr>
    {% for col in row %}
    <td>{{ col }}</td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>

<!--insert event information here in a table format-->
<h2>Add an Expense</h2>
<form action="{{ url_for('add_expense', event_id = event.event_id) }}" method = "POST"> <!--*** insert event id into this statement somehow-->
<p> Item Name: <input type = "text" name = "item_name" required/></p>
<p> Item Cost: <input type = "text" name = "cost" required/></p>
<p><button type="submit">Submit</button></p></form>

<h2>Update an Expense</h2>
<form action="{{ url_for('update_expense', event_id = event.event_id) }}" method = "POST"> <!--*** insert event id into this statement somehow-->
<p> Item ID: <input type = "text" name = "item_id" required/></p>
<p> If you wish to delete this event, check the following box and fill the rest with N/A. <input type = "checkbox" name = "delete_request"/></p>
<p> Item Name: <input type = "text" name = "item_name" required/></p>
<p> Item Cost: <input type = "text" name = "cost" required/></p>
<p><button type="submit">Submit</button></p></form>

{% endfor %}
{% endblock %}


